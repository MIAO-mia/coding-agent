<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>arXiv CS Daily ðŸ“š</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <h1><i class="fas fa-rocket"></i> arXiv CS Daily</h1>
        <p class="tagline">Stay updated with the latest Computer Science research</p>
        
        <nav>
            <ul class="category-nav">
                <li><a href="{{ url_for('index') }}"><i class="fas fa-layer-group"></i> All CS Papers</a></li>
                {% for cat in categories %}
                <li><a href="{{ url_for('index', category=cat, date=selected_date if selected_date else '') }}">
                    <i class="fas fa-microchip"></i> {{ cat }}
                </a></li>
                {% endfor %}
            </ul>
            
            <div class="date-picker">
                <form action="{{ url_for('index') }}" method="get">
                    <label for="date"><i class="far fa-calendar-alt"></i> Browse Papers by Date:</label>
                    <input type="date" id="date" name="date" value="{{ selected_date }}" 
                           max="{{ today }}" title="Select a date to view papers from that day">
                    <input type="hidden" name="category" value="{{ selected_category }}">
                    <button type="submit">
                        <i class="fas fa-search"></i> Go
                    </button>
                </form>
            </div>
        </nav>
    </header>
    
    <main>
        <section class="paper-list-section">
            <h2>
                {% if selected_date %}
                    <i class="fas fa-calendar-day"></i> Papers from {{ selected_date }}
                {% else %}
                    <i class="fas fa-bolt"></i> Latest Papers
                {% endif %}
                {% if selected_category %}
                    in <span class="highlight-category">{{ selected_category }}</span>
                {% endif %}
            </h2>
            
            <div class="stats-bar">
                <span class="stat"><i class="fas fa-file-alt"></i> {{ papers|length }} papers found</span>
                {% if selected_date %}
                    <span class="stat"><i class="far fa-clock"></i> Historical View</span>
                {% else %}
                    <span class="stat"><i class="fas fa-sync"></i> Updated Daily</span>
                {% endif %}
            </div>
            
            {% if papers %}
            <ul class="paper-list">
                {% for paper in papers %}
                <li class="paper-item">
                    <div class="paper-header">
                        <a class="paper-title" href="{{ url_for('paper_detail', paper_id=paper.id) }}">
                            {{ paper.title }}
                        </a>
                        <div class="paper-meta">
                            <span class="paper-field" title="arXiv Category">
                                <i class="fas fa-tag"></i> {{ paper.field }}
                            </span>
                            <span class="paper-time" title="Submission Time">
                                <i class="far fa-clock"></i> {{ paper.submission_time[:10] }}
                            </span>
                        </div>
                    </div>
                    <div class="paper-actions">
                        <a href="{{ url_for('paper_detail', paper_id=paper.id) }}" class="view-details">
                            <i class="fas fa-external-link-alt"></i> View Details
                        </a>
                    </div>
                </li>
                {% endfor %}
            </ul>
            {% else %}
            <div class="empty-state">
                <div class="empty-icon">
                    <i class="fas fa-search"></i>
                </div>
                <h3>No Papers Found</h3>
                <p>No papers found for the selected criteria. Try a different date or category.</p>
                <a href="{{ url_for('index') }}" class="reset-button">
                    <i class="fas fa-redo"></i> Reset Filters
                </a>
            </div>
            {% endif %}
        </section>
    </main>
    
    <footer>
        <p>
            <i class="fas fa-database"></i> Data sourced from arXiv.org 
            <span class="separator">â€¢</span> 
            <i class="fas fa-sync-alt"></i> Updated automatically
        </p>
        <p>
            <a href="{{ url_for('index') }}"><i class="fas fa-home"></i> Back to Home</a>
            <span class="separator">â€¢</span>
            <a href="https://arxiv.org/" target="_blank"><i class="fas fa-external-link-alt"></i> Visit arXiv.org</a>
        </p>
        <p class="copyright">
            &copy; {{ current_year }} arXiv CS Daily | Made with <i class="fas fa-heart" style="color: #e74c3c;"></i> for researchers
        </p>
    </footer>
    
    <script src="{{ url_for('static', filename='js/scripts.js') }}" defer></script>
</body>
</html>